(this.webpackJsonpstockstoday_frontend=this.webpackJsonpstockstoday_frontend||[]).push([[0],{152:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(35),o=c.n(n),r=(c(97),c(98),c(7)),i=c(89),l=c(24),j=c(52),d=c(2),b="233320979060-eihl14o55ip4gmfqj5lpm7hdauflm761.apps.googleusercontent.com",h=function(){var e=Object(r.f)();console.log(localStorage.getItem("SessionEmail"));return Object(d.jsx)("div",{children:null===localStorage.getItem("SessionEmail")?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j.GoogleLogin,{className:"google-session",clientId:b,onSuccess:function(t){console.log(t),console.log(t.profileObj),localStorage.setItem("SessionEmail",t.profileObj.email),localStorage.setItem("SessionName",t.profileObj.name),e.push("/show"),window.location.reload()},onFailure:function(e){console.log(e)},buttonText:"Sign Up / Sign In"}),"     "]}):Object(d.jsx)(j.GoogleLogout,{className:"google-session",clientId:b,buttonText:"Sign Out",onLogoutSuccess:function(){console.log("logout was succcessful"),localStorage.removeItem("SessionEmail"),localStorage.removeItem("SessionName"),e.push("/"),window.location.reload()}})})};var u=function(){return Object(d.jsx)("header",{children:Object(d.jsxs)("nav",{style:{display:"flex",padding:"8px",width:"100%",margin:"auto"},className:"top-bar",children:[Object(d.jsx)(l.b,{to:"/",children:Object(d.jsx)("img",{src:"https://i.imgur.com/o2y3phL.png",alt:"Logo of Market News Today",className:"logo-img"})}),localStorage.SessionEmail?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(l.b,{to:"/show",children:Object(d.jsx)("h1",{className:"nav-link",children:"Favorite Stocks"})})}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("div",{className:"session-comp",children:Object(d.jsx)(h,{})})]})})},m=c(67),g=c(11),x=c.n(g),O=c(20),p=c(16),f=c(15),v=c.n(f),S=c(86),k=c.n(S),y=c(58);var N=function(){var e,t=a.a.useState([]),c=Object(p.a)(t,2),s=c[0],n=c[1],o=a.a.useState([]),r=Object(p.a)(o,2),i=r[0],l=r[1],j=a.a.useState(""),b=Object(p.a)(j,2),h=b[0],u=b[1],g=a.a.useState(!1),f=Object(p.a)(g,2),S=f[0],N=(f[1],"4ce17515280c1c44fabfbd11465b01a6"),w="https://financialmodelingprep.com/api/v3/",P="&limit=5",_=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.post("".concat("https://marketnewstoday-djangobackend.herokuapp.com","/api/users/"),{name:localStorage.getItem("SessionName"),email:localStorage.getItem("SessionEmail"),ticker:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(O.a)(x.a.mark((function e(t){var c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w).concat("search?query=").concat(t).concat(P,"&apikey=").concat(N));case 2:return c=e.sent,e.next=5,c.json();case 5:s=e.sent,console.log(s),l(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(O.a)(x.a.mark((function e(t){var c,s,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.next=3,v.a.get("".concat(w,"profile/").concat(t,"?apikey=").concat(N));case 3:return s=e.sent,console.log("testing index_update"),c.push({Profile:s.data,Press_Release:"Great"}),e.next=8,v.a.get("".concat(w).concat("stock_news?tickers=").concat(t).concat(P,"&apikey=").concat(N));case 8:a=e.sent,console.log(a),c[0].Press_Release=a.data,console.log(c),n(c);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){var e=["AAPL","NFLX","MSFT","JPM","AMZN"],t=e[Math.floor(Math.random()*e.length)];E(t)}),[]),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"container index-container",children:[Object(d.jsxs)("div",{className:"search-container",children:[Object(d.jsx)("h1",{children:Object(d.jsxs)("strong",{children:["Welcome to ",Object(d.jsx)("br",{})," Market News Today"]})}),Object(d.jsx)("h3",{children:"Your app to keep you up to date on your favorite stocks!"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:"Start by searching for your favorite stock or company below and enjoy the journey into current market saviness!"}),Object(d.jsx)("br",{}),Object(d.jsx)(k.a,{className:"search-bar",value:h,disabled:S,onChange:function(e){return u(e)},onRequestSearch:function(){return F(h)}}),Object(d.jsx)("p",{className:"minor-text",children:"Please wait ~3 seconds to submit another search. Give time for our algorithm to put in some work :)"}),localStorage.SessionEmail?Object(d.jsx)("h3",{children:"Save your favorite stock from your search out below"}):Object(d.jsx)(d.Fragment,{})]}),Object(d.jsx)("div",{className:"index-cards",children:i.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),i.map((function(e,t){var c=e.symbol;return Object(d.jsxs)("div",{className:"ind-card card",style:{width:"20em",margin:"2em"},children:[Object(d.jsx)("h3",{children:e.name}),Object(d.jsxs)("p",{children:["Stock Exchange: ",e.exchangeShortName]}),Object(d.jsxs)("p",{children:["Symbol: ",e.symbol]}),Object(d.jsxs)("p",{children:["Currency: ",e.currency]}),Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsx)("button",{onClick:function(){E(c)},className:"button is-link is-dark is-small",children:"Update Sample Below"}),localStorage.SessionEmail?Object(d.jsx)("button",{onClick:function(){_(c)},className:"button is-info is-small",children:"Save to Favorites"}):Object(d.jsx)(d.Fragment,{})]})]},t)}))]}):Object(d.jsx)("p",{className:"session-none card",children:"No company stock data gathered. Please query in the search bar for parent company names, i.e. Yum is the parent company to KFC "})}),Object(d.jsx)("div",{className:"index-news card",id:"start",children:s.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"Sample Company Brief:"}),Object(d.jsx)("br",{}),s[0].Profile.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"card-left",children:[Object(d.jsx)("p",{children:"Log in / Sign Up to save your favorite companies and view additional info such as market cap, additional news articles, industry sector, and more! "}),Object(d.jsx)("br",{}),Object(d.jsx)("h3",{children:Object(d.jsx)("strong",{children:s[0].Profile[0].companyName})}),Object(d.jsx)("br",{}),Object(d.jsx)("img",{className:"stock-image",src:s[0].Profile[0].image,alt:s[0].Profile[0].companyName+" Logo"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Ticker:"})," ",s[0].Profile[0].symbol]})]}),Object(d.jsxs)("div",{className:"card-right",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Price: "}),"$",s[0].Profile[0].price]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"CEO: "}),s[0].Profile[0].ceo]}),Object(d.jsx)("br",{})]})]}):Object(d.jsx)("h3",{children:"No data found for company profile"}),Object(d.jsx)("div",{className:"card-news",children:s[0].Press_Release[0]?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("a",{href:s[0].Press_Release[0].url,children:Object(d.jsx)("h3",{className:"news news-title",children:s[0].Press_Release[0].title})}),Object(d.jsxs)("p",{className:"news",style:{fontStyle:"italic"},children:["Published Date: ",s[0].Press_Release[0].publishedDate.substring(0,10)]}),Object(d.jsx)("a",{className:"news",href:s[0].Press_Release[0].url,children:Object(d.jsx)("img",{className:"news-image",src:s[0].Press_Release[0].image,alt:"Article"})}),Object(d.jsx)("p",(e={className:"news"},Object(m.a)(e,"className","card-news-body"),Object(m.a)(e,"children",s[0].Press_Release[0].text),e))]}):Object(d.jsxs)("h3",{children:["It appears no news articles were available for this company at the moment. Try a different stock ",Object(d.jsx)(y.a,{})]})})]}):Object(d.jsx)(d.Fragment,{})})]})})},w=function(){return console.log(localStorage),localStorage.SessionEmail?console.log(localStorage.SessionEmail):console.log("No user is logged in"),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(N,{})})},P=function(){return Object(d.jsx)(h,{})},_=c(90),F=c(87),E=function(e){var t=e.name,c=e.ticker_data,a=(e.session_id,function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),v.a.delete("".concat("https://marketnewstoday-djangobackend.herokuapp.com","/api/users/").concat(t,"/")),window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n=Object(r.f)(),o=Object(s.useState)([]),i=Object(p.a)(o,2),l=i[0],j=i[1],b=function(){var e=Object(O.a)(x.a.mark((function e(t,c){var s,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(c),console.log("Testing grabbing profile api"),e.next=5,fetch("".concat("https://financialmodelingprep.com/api/v3/","profile/").concat(t,"?apikey=").concat("4ce17515280c1c44fabfbd11465b01a6"));case 5:return s=e.sent,e.next=8,s.json();case 8:(a=e.sent).push({id:c}),j((function(e){return[].concat(Object(_.a)(e),[a])}));case 11:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){console.log(c),c.forEach((function(e){b(e.ticker,e.id)}))}),[]);var h=l.map((function(e,t){var c=e[0].symbol,s=e[1].id;return Object(d.jsxs)("div",{className:"show-fav card",children:[Object(d.jsx)("h3",{className:"fav-title",children:e[0].companyName},t),Object(d.jsx)("img",{className:"fav-stock-image",src:e[0].image,alt:e[0].companyName+" Logo"}),Object(d.jsxs)("p",{className:"fav-ticker",children:["Ticker: ",e[0].symbol]}),Object(d.jsx)("button",{className:"button is-info fav-button",onClick:function(){var e;e=c,n.push("/show_details"),console.log(e),localStorage.setItem("stockDetail",e),console.log(localStorage)},children:"View Details"}),Object(d.jsx)("button",{className:"button is-danger fav-button",onClick:function(){a(s)},children:"Delete Stock"})]},t)}));return Object(d.jsxs)("div",{className:"container fav-stock-container",children:[console.log(l),Object(d.jsxs)("h1",{children:["Welcome, ",t]}),Object(d.jsxs)("h2",{children:["Please see your favorite stocks below ",Object(d.jsx)(F.a,{})]}),Object(d.jsx)("div",{className:"fav-container card",children:h})]})},I=c(88),L=c(59),C=c.n(L),R=function(){var e=Object(r.f)(),t=a.a.useState([]),c=Object(p.a)(t,2),s=c[0],n=c[1],o=a.a.useState(void 0),i=Object(p.a)(o,2),l=i[0],j=i[1];console.log(localStorage),localStorage.SessionEmail?console.log(localStorage.SessionEmail):console.log("No user is logged in");var b=function(){var t=Object(O.a)(x.a.mark((function t(){var c,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===localStorage.getItem("SessionEmail")){t.next=11;break}return t.next=3,v.a.get("".concat("https://marketnewstoday-djangobackend.herokuapp.com","/api/users/"));case 3:c=t.sent,console.log("django_backend",c),a=[],console.log(localStorage.getItem("SessionEmail")),c.data.forEach((function(e){e.email===localStorage.SessionEmail&&a.push(e)})),console.log(a),a.length>=1?(n(a),j(!0)):(alert("It appears no favorite stocks were saved. Please save your favorite company stocks and come back to this page :)"),e.push("/")),console.log(s);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.a.useEffect((function(){setTimeout((function(){b()}),1e3)}),[]),Object(d.jsx)("div",{children:localStorage.getItem("SessionEmail")?Object(d.jsx)(d.Fragment,{children:l?Object(d.jsx)("div",{className:"show-body",children:s.length>0?Object(d.jsxs)(d.Fragment,{children:[console.log(s[0]),Object(d.jsx)(E,{name:localStorage.getItem("SessionName"),ticker_data:s})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"It appears you are not signed in or have not saved any company / stocks as your favorite"}),Object(d.jsx)("br",{}),Object(d.jsxs)("p",{children:["Please sign up for an account, log in, or save favorite company / stocks to see a list of saved items ",Object(d.jsx)(I.a,{})]})]})}):Object(d.jsx)(C.a,{type:"spin",color:"#377fb3",height:"10%",width:"10%",className:"Loader"})}):Object(d.jsxs)(d.Fragment,{children:[alert("There is not a logged in user. Please log in / register :) "),e.push("/")]})})},T=function(){return Object(d.jsx)("h1",{children:"Edit"})},G="4ce17515280c1c44fabfbd11465b01a6",M="https://financialmodelingprep.com/api/v3/",D=function(){var e=a.a.useState([]),t=Object(p.a)(e,2),c=t[0],s=t[1],n=a.a.useState(void 0),o=Object(p.a)(n,2),r=o[0],i=o[1],l=new Date,j=String(l.getDate()).padStart(2,"0"),b=String(l.getMonth()+1).padStart(2,"0"),h=l.getFullYear();l=h+"-"+b+"-"+j;var u=h-5+"-"+b+"-"+j;return a.a.useEffect((function(){setTimeout((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){var t,c,a,n,o,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.stockDetail,c=[],e.next=4,v.a.get("".concat(M,"profile/").concat(t,"?apikey=").concat(G));case 4:return a=e.sent,console.log("testing index_update"),c.push({Profile:a.data,Press_Release:"Great",Stock_Grade:"None",Historical_Price:[],Net:0}),e.next=9,v.a.get("".concat(M).concat("stock_news?tickers=").concat(t).concat("&limit=6","&apikey=").concat(G));case 9:return n=e.sent,e.next=12,v.a.get("".concat(M).concat("grade/").concat(t,"?limit=5&apikey=").concat(G));case 12:return o=e.sent,e.next=15,v.a.get("".concat(M).concat("historical-price-full/").concat(t,"?from=").concat(u,"&apikey=").concat(G));case 15:r=e.sent,c[0].Press_Release=n.data,c[0].Stock_Grade=o.data[0],c[0].Historical_Price.push(r.data.historical[0],r.data.historical[r.data.historical.length-1]),c[0].Net=r.data.historical[0].close-r.data.historical[r.data.historical.length-1].close,console.log(c),s(c),i(!0);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),1500)}),[]),Object(d.jsx)("div",{children:r?Object(d.jsx)("div",{className:"container-showdetails container",children:c.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"details-top",children:[Object(d.jsxs)("div",{className:"details-left card",children:[Object(d.jsx)("h1",{className:"details-heading",children:c[0].Profile[0].companyName}),Object(d.jsx)("img",{className:"stock-image",src:c[0].Profile[0].image,alt:c[0].Profile[0].companyName+" Logo"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Industry:"})," ",c[0].Profile[0].industry]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"CEO: "}),c[0].Profile[0].ceo]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Web URL: "}),Object(d.jsx)("a",{href:c[0].Profile[0].website,children:c[0].Profile[0].website})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"details-right card",children:[Object(d.jsxs)("h2",{children:["Ticker: ",c[0].Profile[0].symbol]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Currency: "}),c[0].Profile[0].currency]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Stock Price: "}),"$",c[0].Historical_Price[0].close," ",Object(d.jsxs)("span",{className:"details-italic",children:["(As of ",c[0].Historical_Price[0].label,")"]})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"High: "}),"$",c[0].Historical_Price[0].high]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Low: "}),"$",c[0].Historical_Price[0].low]}),Object(d.jsxs)("p",{children:[Object(d.jsxs)("strong",{children:["Gain / loss for 100 stocks invested ",c[0].Historical_Price[0].date.substring(0,4)-c[0].Historical_Price[1].date.substring(0,4)," years ago: "]}),c[0].Net>0?Object(d.jsxs)("span",{className:"details-netPositive",children:["$",Math.round(100*c[0].Net).toLocaleString("en-US")]}):Object(d.jsxs)("span",{className:"details-netNegative",children:["$",Math.round(100*c[0].Net).toLocaleString("en-US")]})]}),Object(d.jsxs)("p",{className:"details-italic",children:["(Stock Price on ",c[0].Historical_Price[1].label,": $",c[0].Historical_Price[1].close.toFixed(2),")"]}),c[0].Stock_Grade?Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Stock Grade: "}),c[0].Stock_Grade.newGrade," ",Object(d.jsx)("span",{className:"details-italic"}),"(Source: ",c[0].Stock_Grade.gradingCompany,")"]}):Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Stock Grade: "}),"Not Available"]})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"details-news card",children:c[0].Press_Release[0]?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"News"}),c[0].Press_Release.map((function(e,t){return Object(d.jsxs)("div",{className:"details-news-card card",children:[Object(d.jsx)("a",{href:e.url,className:"news-title",children:Object(d.jsx)("h3",{children:e.title})}),Object(d.jsxs)("p",{style:{fontStyle:"italic"},children:["Published Date: ",e.publishedDate.substring(0,10)]}),Object(d.jsx)("a",{href:e.url,children:Object(d.jsx)("img",{className:"news-image",src:e.image,alt:"Article"})}),Object(d.jsx)("p",{className:"card-news-body",children:e.text})]},t)}))]}):Object(d.jsxs)("h3",{children:["It appears no news articles were available for this company at the moment ",Object(d.jsx)(y.a,{})]})})]}):Object(d.jsx)("h2",{children:"No company details gathered. Please make sure you are logged in and click details on a saved stock via the 'Favorite Stocks' page."})}):Object(d.jsx)(C.a,{type:"spin",color:"#377fb3",height:"10%",width:"10%",className:"Loader"})})},H=function(){return Object(d.jsx)(D,{})};var A=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u,{}),Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{path:"/session",children:Object(d.jsx)(P,{})}),Object(d.jsx)(r.a,{path:"/show",children:Object(d.jsx)(R,{})}),Object(d.jsx)(r.a,{path:"/edit",children:Object(d.jsx)(T,{})}),Object(d.jsx)(r.a,{path:"/show_details",children:Object(d.jsx)(H,{})}),Object(d.jsx)(r.a,{path:"/",children:Object(d.jsx)(w,{})})]}),Object(d.jsxs)("footer",{children:[" \xa9 Michael Codes. Comments? Feedback? Please reach out to me via LinkedIn",Object(d.jsx)("a",{href:"mailto:cuencamich@gmail.com",id:"icon",children:Object(d.jsx)(i.a,{className:"icon"})})]})]})},$=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,169)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,o=t.getTTFB;c(e),s(e),a(e),n(e),o(e)}))};o.a.render(Object(d.jsx)(l.a,{children:Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(A,{})})}),document.getElementById("root")),$()},97:function(e,t,c){},98:function(e,t,c){}},[[152,1,2]]]);
//# sourceMappingURL=main.5e09b431.chunk.js.map